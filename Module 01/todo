// 


        boolean transactionOfSEnder = new Transaction().makeTransaction(sender, recipient, TransferCategory.debits,  transferAmount , transactionId);
        boolean transactionOfRecipent = new Transaction().makeTransaction(sender, recipient, TransferCategory.credits,  transferAmount , transactionId);
        
        if (transactionOfSEnder == false) 
        {
            invalidTransactions.addTransaction(sender.getTransactionsList());
            return transactionId;
        }








        if (recipient != null && sender != null && sender != recipient)
        {
            if (transferAmount > sender.getBalance() ) 
            {
                System.out.println(transferAmount);
                System.out.println(sender.getBalance());
                throw new TransactionFailException("transfer an amount exceeding user balance");
            }
            if ( transferAmount > 0) 
            {


                if (tCategory == TransferCategory.debits) 
                    sender.setBalance(sender.getBalance() - transferAmount); // 100 - 90
                else
                    recipient.setBalance(recipient.getBalance() + transferAmount) ;// 500;
            }
            else{
               throw new TransactionFailException("transfer Amount < 0");
        }    
        }
        else{
            throw new TransactionFailException("cannot send to same user");
        }